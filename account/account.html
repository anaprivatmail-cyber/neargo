<!doctype html>
<html lang="sl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Moje – Profil</title>
  <link rel="stylesheet" href="/assets/app.css">
  <style> .wrap{max-width:900px;margin:20px auto;padding:14px} .card{padding:14px;border-radius:12px;background:#fff;border:1px solid #e6eef7} </style>
</head>
<body>
  <header>
    <!-- header shared in site, keep position -->
  </header>
  <main class="wrap">
    <div class="card">
      <h1>Moj profil</h1>
      <p class="muted">Urejanje osebnih podatkov in nastavitve računa.</p>
      <section id="profileSection">
        <label>Email <input id="profileEmail" type="email" placeholder="naslov@primer.si"></label>
        <label>Geslo <input id="profilePassword" type="password" placeholder="novo geslo"></label>
        <div style="margin-top:8px;"><button id="saveProfile" class="btn">Shrani</button></div>
        <div id="profileMsg" class="muted"></div>
      </section>
      <hr>
      <section id="subscriptionSection">
        <h2>Naročnina</h2>
        <div id="subscriptionInfo" class="muted">Nalaganje...</div>
      </section>
    </div>
  </main>
  <script>
    document.addEventListener('DOMContentLoaded', ()=>{
      // minimal wiring: load current email from localStorage
      document.getElementById('profileEmail').value = localStorage.getItem('user_email')||'';
      document.getElementById('saveProfile').onclick = async ()=>{
        const email = document.getElementById('profileEmail').value.trim();
        if(!email){ document.getElementById('profileMsg').textContent='Vnesi email.'; return; }
        localStorage.setItem('user_email', email);
        document.getElementById('profileMsg').textContent='Shranjeno.';
      };
    });
  </script>
</body>
</html>
